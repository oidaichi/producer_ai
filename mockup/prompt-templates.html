<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>プロンプトテンプレート - ONDO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .nav-link {
            @apply flex items-center px-4 py-2 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 transition-colors;
        }
        .nav-link.active {
            @apply bg-blue-50 text-blue-700;
        }
        .card {
            @apply bg-white rounded-lg shadow-sm p-6 mb-6;
        }
        .btn {
            @apply px-4 py-2 rounded-md text-sm font-medium transition-colors;
        }
        .btn-primary {
            @apply bg-blue-600 text-white hover:bg-blue-700;
        }
        .btn-outline {
            @apply border border-gray-300 text-gray-700 hover:bg-gray-50;
        }
        .template-card {
            @apply border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors;
        }
        .template-card.active {
            @apply border-blue-500 bg-blue-50;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex">
    <!-- サイドバー -->
    <div class="sidebar bg-white border-r border-gray-200 h-screen fixed flex flex-col w-64">
        <div class="p-4 border-b border-gray-200">
            <h1 class="text-xl font-bold text-blue-700">ONDO</h1>
            <p class="text-sm text-gray-500">イベントプランニングツール</p>
        </div>
        <nav class="flex-1 overflow-y-auto">
            <div class="p-4 border-b border-gray-200">
                <h3 class="text-sm font-medium text-gray-700 mb-2">最近のプロジェクト</h3>
                <div class="space-y-1">
                    <a href="index.html" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        サマーフェスティバル2025
                    </a>
                    <a href="index.html" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        テックカンファレンス2025
                    </a>
                    <a href="index.html" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                        新商品発表会2025
                    </a>
                </div>
            </div>
            <div class="p-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">プロンプトテンプレート</h3>
                <div class="space-y-1">
                    <a href="#" class="nav-link active">
                        <svg class="w-4 h-4 mr-2 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                        </svg>
                        基本プロンプト
                    </a>
                    <a href="#" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                        </svg>
                        大規模イベント用
                    </a>
                    <a href="#" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                        </svg>
                        カンファレンス用
                    </a>
                    <a href="#" class="nav-link">
                        <svg class="w-4 h-4 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                        </svg>
                        新規テンプレート
                    </a>
                </div>
            </div>
        </nav>
        <div class="p-4 border-t border-gray-200">
            <a href="#" class="flex items-center text-gray-700 hover:text-gray-900">
                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-medium text-sm mr-2">
                    YT
                </div>
                <span class="text-sm font-medium">山田 太郎</span>
            </a>
        </div>
    </div>

    <!-- メインコンテンツ -->
    <div class="main-content ml-64 flex-1 p-8">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800">プロンプトテンプレート</h2>
        </div>

        <div class="bg-white rounded-lg shadow-sm p-6">
            <!-- タブナビゲーション -->
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8">
                    <button class="tab-button active border-b-2 border-blue-500 text-blue-600 whitespace-nowrap py-4 px-1 text-sm font-medium" data-tab="venue">
                        会場情報検索
                    </button>
                    <button class="tab-button border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 text-sm font-medium" data-tab="municipality">
                        自治体情報検索
                    </button>
                    <button class="tab-button border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 text-sm font-medium" data-tab="schedule">
                        タスク・スケジュール作成
                    </button>
                </nav>
            </div>

            <!-- 会場情報検索タブ -->
            <div id="venue-tab" class="tab-content py-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium">会場情報検索とチェックリスト作成</h3>
                    <div class="flex space-x-2">
                        <button class="edit-prompt px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700" data-prompt-type="venue">
                            編集
                        </button>
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded">
                    <div class="prompt-content text-sm whitespace-pre-line">
                        # プロンプト① 会場情報検索とチェックリスト作成
                        あなたはイベント運営支援のアシスタントです。
                        以下の入力情報を受け取り、開催場所に関する **公式サイトや一次情報** をWeb検索で収集し、会場情報チェックリストを完成させてください。
                        出力は **Markdownの表** と **CSV** の両方で作成してください。
                        余計な説明は不要です。事実ベースで、回答＋根拠URL＋根拠抜粋を必ずセットにしてください。
                        
                        # 入力情報
                        イベント名: {{イベント名}}
                        開催日時: {{開催日時}}
                        開催場所: {{開催場所}}
                        想定来場者数: {{想定来場者数}}人
                        イベント種別: {{イベント種別}}
                        イベント概要: {{イベント概要}}
                        対象者: {{対象者}}
                        対象者属性: {{対象者属性}}
                        主催者情報: {{主催者情報}}
                        プロジェクトメンバー人数: {{人数}}
                        
                        # 出力要件
                        1. 会場情報チェックリスト  
                           - カテゴリ/確認事項/回答/根拠URL/根拠抜粋/備考  
                           - 下記テンプレ全項目を網羅  
                           - 一次情報（公式サイト/PDF/利用規約/フロアマップ）を最優先  
                           - 見つからない場合は「要確認」とし、問い合わせ窓口URLを付す  
                           - 数値は必ず単位つき（㎡, 名, V/A, ¥）  
                        
                        ## テンプレ項目
                        - 所在地とアクセス（交通機関、駐車場、案内表示）
                        - 会場建物の利用可能時間
                        - 収容人数、面積、レイアウト（座席配置、図面）
                        - 控室の有無、喫煙場所
                        - 搬入搬出の申請/経路/車両キャパ上限
                        - 電源容量（容量、数、場所）
                        - インターネット設備（Wi-Fi/有線LAN）
                        - 音響・映像・照明設備
                        - ケータリング持込可否
                        - 清掃・ゴミ処理方法
                        - 避難経路・緊急設備（AED）
                        - 契約・料金・キャンセルポリシー
                        - 支払い条件
                        - ステージサイズ
                        - クローク環境 など
                        
                        # 出力形式
                        ## 会場情報チェックリスト（Markdown表）
                        | カテゴリ | 確認事項 | 回答 | 根拠URL | 根拠抜粋 | 備考 |
                        |----------|----------|------|---------|----------|------|
                        
                        ## CSV
                        "カテゴリ","確認事項","回答","根拠URL","根拠抜粋","備考"
                    </div>
                </div>
            </div>

            <!-- 自治体情報検索タブ -->
            <div id="municipality-tab" class="tab-content py-4 hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium">自治体情報検索と対応事項一覧化</h3>
                    <div class="flex space-x-2">
                        <button class="edit-prompt px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700" data-prompt-type="municipality">
                            編集
                        </button>
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded">
                    <div class="prompt-content text-sm whitespace-pre-line">
                        # プロンプト② 自治体情報検索と対応事項一覧化
                        あなたはイベント運営支援のアシスタントです。
                        以下の入力情報を受け取り、開催場所の自治体の公式サイトや関連法規を検索し、必要な対応事項を一覧化してください。
                        
                        # 入力情報
                        イベント名: {{イベント名}}
                        開催日時: {{開催日時}}
                        開催場所: {{開催場所}}
                        想定来場者数: {{想定来場者数}}人
                        イベント種別: {{イベント種別}}
                        
                        # 出力要件
                        1. 自治体関連の届出・対応事項リスト  
                        - カテゴリ/確認事項/対応内容/根拠URL/根拠抜粋/備考  
                        - 例: 消防届出、道路使用許可、警察署への届出、音楽イベント時の騒音規制、飲食提供許可、感染症対策指針、廃棄物処理など  
                        - 一次情報（自治体公式サイト、所轄官庁ページ、条例PDF）を必ず優先  
                        - 不明確な場合は「要確認」とし、問い合わせ窓口のリンクを提示  

                        # 出力形式
                        ## 自治体情報一覧（Markdown表）
                        | カテゴリ | 確認事項 | 対応内容 | 根拠URL | 根拠抜粋 | 備考 |
                        |---|---|---|---|---|---|

                        ## CSV
                        "カテゴリ","確認事項","対応内容","根拠URL","根拠抜粋","備考"
                    </div>
                </div>
            </div>
            
            <!-- タスク・スケジュール作成タブ -->
            <div id="schedule-tab" class="tab-content py-4 hidden">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-medium">タスク・役割・スケジュール・予算作成</h3>
                    <div class="flex space-x-2">
                        <button class="edit-prompt px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700" data-prompt-type="schedule">
                            編集
                        </button>
                    </div>
                </div>
                <div class="bg-gray-50 p-4 rounded">
                    <div class="prompt-content text-sm whitespace-pre-line">
                        # プロンプト③ タスク・役割・スケジュール・予算作成
                        あなたはイベント運営支援のアシスタントです。  
                        以下の入力情報と、プロンプト①（会場情報チェックリスト）・プロンプト②（自治体情報一覧）の結果をもとに、  
                        **現実的かつ実務で使えるプロジェクト計画資料** を作成してください。  

                        # 入力情報
                        イベント名: {{イベント名}}
                        開催日時: {{開催日時}}
                        開催場所: {{開催場所}}
                        想定来場者数: {{想定来場者数}}人
                        イベント種別: {{イベント種別}}
                        イベント概要: {{イベント概要}}
                        対象者: {{対象者}}
                        対象者属性: {{対象者属性}}
                        主催者情報: {{主催者情報}}
                        プロジェクトメンバー人数: {{人数}}

                        会場情報: <<<プロンプト①の出力>>>
                        自治体情報: <<<プロンプト②の出力>>>

                        # 出力要件
                        1. **タスク一覧**  
                        - No/タスク名/具体的説明/成果物/担当者/依存関係/期限  
                        - 会場情報・自治体対応をタスクに必ず反映  
                        - 過去事例のタスク体系（1-1, 1-2…）を参考に詳細分解  

                        2. **必要役割一覧**  
                        - 役割名/担当範囲/人数/スキル要件  
                        - 例: プロデューサー、広報、会場担当、法務確認、スポンサー営業、受付など  

                        3. **お打ち合わせフロー**  
                        - フェーズごとに「関係者/目的/議題/成果物/タイミング」を一覧化  

                        4. **プロジェクトスケジュール（ガントチャート）**  
                        - No/タスク名/開始日/終了日/担当者/依存関係/マイルストーン  
                        - 開催日から逆算、祝日を考慮し、担当者の同時並行数が「{{人数}}」を超えないよう調整  

                        5. **予算表**  
                        - 項目/想定費用/根拠/備考  
                        - 会場費・備品費・広告宣伝費・人件費・ケータリング・警備・保険・雑費など  

                        # 出力形式
                        ## タスク一覧（Markdown表）
                        | No | タスク名 | 具体的説明 | 成果物 | 担当者 | 依存関係 | 期限 |
                        |---|---|---|---|---|---|---|

                        ## 必要役割一覧（Markdown表）
                        | 役割名 | 担当範囲 | 必要人数 | スキル要件 |
                        |---|---|---|---|

                        ## お打ち合わせフロー（Markdown表）
                        | フェーズ | 関係者 | 目的 | 議題 | 成果物 | タイミング |
                        |---|---|---|---|---|---|

                        ## プロジェクトスケジュール（Markdown表）
                        | No | タスク名 | 開始日 | 終了日 | 担当者 | 依存関係 | マイルストーン |
                        |---|---|---|---|---|---|---|

                        ## 予算表（Markdown表）
                        | 項目 | 想定費用 | 根拠 | 備考 |
                        |---|---|---|---|

                        ## CSV（タスク・役割・スケジュール・予算それぞれ出力）

                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // テンプレートカードの選択状態を切り替える
        document.querySelectorAll('.template-card').forEach(card => {
            card.addEventListener('click', (e) => {
                // ボタンがクリックされた場合は何もしない
                if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
                    return;
                }
                
                // カードの選択状態を切り替え
                document.querySelectorAll('.template-card').forEach(c => {
                    c.classList.remove('active');
                });
                card.classList.add('active');
            });
        });

        // タブの切り替え機能
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', (e) => {
                const tabId = e.target.getAttribute('data-tab');
                
                // アクティブなタブボタンのスタイルを更新
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('border-blue-500', 'text-blue-600');
                    btn.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
                });
                e.target.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
                e.target.classList.add('border-blue-500', 'text-blue-600');
                
                // タブコンテンツの表示/非表示を切り替え
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(`${tabId}-tab`).classList.remove('hidden');
            });
        });

        // 編集ボタンの機能
        document.querySelectorAll('.edit-prompt').forEach(button => {
            button.addEventListener('click', (e) => {
                const promptType = e.target.getAttribute('data-prompt-type');
                const promptContent = document.querySelector(`#${promptType}-tab .prompt-content`);
                const currentContent = promptContent.textContent.trim();
                
                // テキストエリアを作成して編集可能に
                const textarea = document.createElement('textarea');
                textarea.className = 'w-full h-96 p-2 border rounded';
                textarea.value = currentContent;
                
                // 保存ボタンを作成
                const saveButton = document.createElement('button');
                saveButton.className = 'mt-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600';
                saveButton.textContent = '保存';
                
                // キャンセルボタンを作成
                const cancelButton = document.createElement('button');
                cancelButton.className = 'mt-2 ml-2 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400';
                cancelButton.textContent = 'キャンセル';
                
                // ボタンコンテナを作成
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'mt-2';
                buttonContainer.appendChild(saveButton);
                buttonContainer.appendChild(cancelButton);
                
                // 元のコンテンツを退避
                const originalContent = promptContent.innerHTML;
                
                // 編集用UIに置き換え
                promptContent.innerHTML = '';
                promptContent.appendChild(textarea);
                promptContent.appendChild(buttonContainer);
                
                // 保存ボタンの処理
                saveButton.addEventListener('click', () => {
                    // ここでサーバーに保存する処理を実装
                    // 例: savePrompt(promptType, textarea.value);
                    
                    // 編集を終了して元の表示に戻す
                    promptContent.textContent = textarea.value;
                });
                
                // キャンセルボタンの処理
                cancelButton.addEventListener('click', () => {
                    // 編集をキャンセルして元の表示に戻す
                    promptContent.innerHTML = originalContent;
                });
            });
        });
    </script>
</body>
</html>
